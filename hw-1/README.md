
## Event Storming модель
![Event Storming модель](./mcf-es.jpg  "Event Storming модель")
[Ссылка на jpg](mcf-es.jpg)

Команды и события группировались по принципу принадлежности к определенному процессу.

1. Контекст "Заявкик воркеров" - в данном контексте собраны все комнады и события принадлежащие к процессу найму воркеров - это размещение вакансий, сбор заявок, проведение тестов и отобрение/отклонение заявки.
2. Контекст "Услуги" - в данном контексте собраны все команды и события принадлежащие к процессу размещения услуги клиента - это добавление типов услуг, размещение услуги, назначение воркера и расчет конечной стоимости.
3. Контекст "Сбора заказов" - в данном контексте собраны все команды и события принадлежащие к процессу по сбору и выдачи расходников - это заказ печенья, не посредственно сбор и выдача расходников.
4. Конеткст "Управление задачами" - в данном контексте собраны все команды и события принадлежащие к процессу по работе с задачей воркера - это начало работы над задачей, прикрепление отчета о завершении, отмена задачи клиентом и изменение статуса задачи клиентом.
5. Контекст "Оплаты" - в данном контексте собраны все команды и события принадлежащие к процессу списания средств с клиента и зачисление средств воркеру - это создание транзакций после изменения статуса заказа, выставлени инвойсов, списание и зачисление средств.
6. Контекст "Проверка качества" - в данном контексте собраны все команды и события принадлежащие к процессу проверки качества выполнения услуг - это ручное и автоматическое назначение проверки качества и заполнение отчета о проверке.
7. Контекст "Ставки" - в данном контексте собраны все команды и события принадлежащие к процессу ставок - это возможность сделать ставку на услугу менеджером и автоматический расчет выгрыша после изменения статуса заказа.

## Модель данных
![Модель данных](./mcf-dm.jpg  "Модель данных")
[Ссылка на jpg](mcf-dm.jpg)

## Модель коммуникаций
![Модель коммуникаций](./mcf-cm.jpg  "Модель коммуникаций")
[Ссылка на jpg](mcf-cm.jpg)

## Подходящая реализация
![Подходящая реализация](./mcf-r.jpg  "Подходящая реализация")
[Ссылка на jpg](mcf-r.jpg)

Для реализации был выбран монолит, т.к. не ожидается сверхбольших нагрузок на приложения, а по сравнению сервисами, это позволит нам быстрее реализовать проект и упростить поддержку на первых этапах работы проекта. А при хорошей реализации модульности, с ростом нагрузки, не должно возникнуть проблем с эволюционированием системы в микросервсную.

## Спорные места

- Event Storming
    - Команду "Назначить воркера" перенести в контекст "управления задачами", что позволит измбавится от воркеров в контексте "Услуги"
    - Команду "Расчитать стоимость услуги" перенести в контекст "Оплаты", тогда вся логика связанная с денгами будет сосредоточена в этом контексте и нам не нужно будет прокидывать стоимость услуги через контекст "Управления задачами"
- Подходящая реализация
    - Стоит выбрать гибридную реализация, в которой контекст "Заявки воркеров" будут выделен в отдельный сервис с асинхронной коммуникаций (т.к. нет критичных процессов завязанных на моментальное появление нового воркера, по-этому отложенная консистентность в данном случае на устраивает) с монолитной частью системы, для возможности отдельного маштабирования, т.к. на этот контекст ожидается большая нагрузка, чем на остальную часть системы, и ожидаются DDOS атаки. 
